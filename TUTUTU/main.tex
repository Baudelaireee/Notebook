\documentclass[12pt,a4paper]{article}

% ==== 导言区 ====
\input{setup.tex} % 调用你上传的 setup.tex 文件
% 或者你也可以直接把 setup.tex 的内容复制粘贴在这里

\title{\LaTeX{} Note Template}
\author{X}
\date{\today}

\extrainfo{Github: \href{https://github.com/Baudelaireee/Notebook}{https://github.com/Baudelaireee/Notebook}}
\begin{document}

% \maketitle
\makecover{cover/tu.jpg}
\tableofcontents
\newpage 

\section{Universal property}
Universal property is a core concept in modern mathematics, it means the same properties but appears in different objects, in the language of category theory, it means the same diagram commutative in different categories. this section is to introduce some common universal properties from set theory to group theory and topology, it can be seen as a review of basic mathematics, and a good inviation for category theory.

\subsection{Quotient}

quotient is a method to see two different things as the same things via an equivalence relation: Let \(X\) be a non-empty set and \(\sim\) be an realtion on \(X\), if it satisfies
\begin{itemize}
    \item reflexive: \(x \sim x\)
    \item symmetric: \(x \sim y \Rightarrow y \sim x    \)
    \item transitive: \(x \sim y, y \sim z \Rightarrow x \sim z\)
\end{itemize}
Then we define \(\sim\) is an \textbf{ equivalence relation} on \(X\). So we can define the equivalence class of some element \(a\) of the set as 
\[[a] = \{x \in X | x \sim a\}\]
then the \textbf{quoitent set} of \(X\) with respect to \(\sim\) is defined as
\[X/\sim := \{[a]| a \in X\}\]
but it is not the unique method to define quotient, the follwing statement gives different view.

\begin{lemma}
    Let \(X\) be a non-empty set, then the following statements are equivalent:\\

    (1) There is an equivalence relation \(\sim\) on \(X\).\\

    (2) There is a surjective map \(f: X \to Y\) to some set \(Y\).\\

    (3) There is a partition of \(X\), i.e. a family \(P = \{A_i| i\in I, A_i \subset X\}\) such that the set can be written as the disjoint union of the family
    \[X = \bigsqcup_{i \in I} A_i\]
\end{lemma}
\begin{proof}
    (1) \(\Rightarrow\) (2): Let \(Y = X/\sim\) and define \(\pi: X \to Y, x \mapsto [x]\), then it is easy to see that \(\pi\) is a surjective map.\\

    (1) \(\Rightarrow\) (3): it is equivalent to prove that the equivalence class \([x]\) and \([y]\) is disjoint if \(x \nsim y\), otherwise they are equal.\\

    (2) \(\Rightarrow\) (1): Define a relation on \(X\) by
    \[x \sim_f y \iff f(x) = f(y)\]
    It is a equivalence relation, and the equivlence class can be denoted by pre-image 
    \[[x] = f^{-1}(y)  \]
    where \(y = f(x)\).\\

    (3) \(\Rightarrow\) (1): Define a relation on \(X\) by 
    \[x \sim_P y \iff x\in A_i \wedge y \in A_i\]
    for some \(i \in I\), similarly the class can be denoted by
    \[[x] = A_i\]
    where \(x \in A_i\) and \(X/\sim_P = P\) actually.
\end{proof}

The application in the proof
\[\pi: X \to X/\sim, \quad x \mapsto [x]\]
is called the \textbf{quotient map}, it is a type of \textbf{natural map}, that means the definition of the map is unique and very natural. The statement (2) can be generalized to any map, not only surjective map, but the reason here I only state the surjective map is that (a) any map can be restricted to a surjective map; (b) the quotient map is surjective. 

The universal property of quotient can be explained as following: we expect two objects are the same up to isomorphism, in the sense of set theory, that means there is a bijection between two sets, but it is not easy to construct a bijection directly, or sometimes we do not need know what the bijection exactly is. Now we take a map \(f:X \to Y\), then we can \textbf{uniquely determine} a bijection between \(X/\sim_f\) and a subset of \(Y\), and the bijection is induced by \(f\) and the quotient map, the correspondece can be draw as following commutative diagram:
% https://q.uiver.app/#q=WzAsMyxbMCwwLCJYIl0sWzIsMCwiWSJdLFswLDIsIlgvXFxzaW1fZiJdLFswLDEsImYiXSxbMCwyLCJcXHBpIiwyLHsic3R5bGUiOnsiaGVhZCI6eyJuYW1lIjoiZXBpIn19fV0sWzIsMSwiXFxleGlzdHMhIFxcYmFye2Z9IiwwLHsic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn19fV1d
\[\begin{tikzcd}
	X && Y \\
	\\
	{X/\sim_f}
	\arrow["f", from=1-1, to=1-3]
	\arrow["\pi"', two heads, from=1-1, to=3-1]
	\arrow["{\exists! \bar{f}}", dashed, from=3-1, to=1-3]
\end{tikzcd}\]
We conclude the result of set theory as following:
\begin{theorem}[UPQ-SET] $ \\$
    Let \(X,Y\) be two empty sets and \(f:X \to Y\) a surjective map between them, then there is a unique bijection map \(\bar{f}: X/\sim_f \hookrightarrow Y\) such that \(f = \bar{f} \circ \pi\), where \(\pi: X \to X/\sim_f\) is the quotient map.
    
\end{theorem}

\begin{proof}
    The definition of \(\bar{f}\) is natural and uniquely by \(f = \bar{f} \circ \pi\), for any \([x] \in X/\sim_f\), define
    \[\bar{f}([x]) = f(x)\]
    the map is well-defined, because if \([x] = [y]\), then \(f(x) = f(y)\) by the definition of \(\sim_f\). The relation \(\sim_f\) implies injection \(\bar{f}\), surjection \(f\) implies surjection \(\bar{f}\), so we finish the proof.
\end{proof}

It is the simplest universal property of quotient, it can be generalized to other mathematics objects, but a little different, the map between two objects should preserve the structure, so the map will be some type of morphism, hence the quotient map should also be a morphism and the equivalence relation should be compatible with the structure. Let us consider the case of topological space.

In geometry view, a circle can be obtained by glueing the two endpoints of a line segment, for example we identify two endpoints of the interval \([0,1]\) by the relation \(0 \sim 1\), then we can get a quotient set \([0,1]/\sim\), but how to define the topology on the quotient set such that it is a space homemorphic to circle \(\sph^1\)? The answer is that the quotient map should preserve the topological structure, i.e. quotient topology is the smallest topology such that the quotient map is continuous.

\begin{definition}
    Let \((X,\mathcal{T})\) be a topological space and \(\sim\) be an equivalence relation on \(X\), the \textbf{quotient topology} on \(X/\sim\) is defined as 
    \[\mathcal{T}_{\sim} := \{U \subset X/\sim | \pi^{-1}(U) \in \mathcal{T}\}\]
    where \(\pi: X \to X/\sim, x \mapsto [x]\) is the quotient map.
\end{definition}

We can complete the example just now, firstly we find a surjective map
\[f: [0,1] \to \sph^1, \quad f(x) = e^{2\pi i x}\]
It is easy to see that \(0 \sim_f 1\) since \(f(0) = f(1)\), and the relation is exactly the relation we want, so we can conclude a bijection \(\bar{f}: [0,1]/\sim_f \to \sph^1\) such that \(f = \bar{f} \circ \pi\) by UPQ-SET, by the condtion that \(f\) and \(\pi\) are contionous, we can verify that \(\bar{f}\) is also continous. To see whether it is a homemorphism or not, we notice that \(\sph^1\) is a compact space, so we just need to verify thet \([0,1]/\sim_f\) is also a compact space \textbf{(a continous bijection from a compact space to a Hausdorff space is automatically a homeomorphism)}, that needs a properties of quotient space:
\begin{claim}
    Let \(X\) be a compact space and the graph of \(\sim\) be closed in \(X^2\), then quotient space \(X/\sim\) is also a compact space.
\end{claim}
\begin{proof}
    \[G = \{(a,b) \in X^2 |  a \sim b\}\]
    is the graph of \(\sim\),...
\end{proof}

So we can prove that \([0,1]/\sim_f\) is homeomorphic to \(\sph^1\) as above, and we can generalized the result to any similar case as following:
\begin{theorem}[UPQ-TOPO] $ \\$
    Let \((X,\mathcal{T})\) be a topological space and \((Y,\mathcal{J})\) be a topological space, \(f: X \to Y\) be a surjective continuous map, then there is a unique continous bijection \(\bar{f}: (X/\sim_f, \mathcal{T}_{\sim_f}) \to (Y,\mathcal{J})\) such that \(f = \bar{f} \circ \pi\), where \(\pi: X \to X/\sim_f\) is the quotient map.
\end{theorem}

\begin{proof}
    By UPQ-SET, there is a unique bijection \(\bar{f}\) such that \(f = \bar{f} \circ \pi\), now we will prove that \(\bar{f}\) is a homeomorphism. Take any open set \(U\) of \(Y\), then 
    \[f^{-1}(U) = (\bar{f} \circ \pi)^{-1}(U) = \pi^{-1}(\bar{f}^{-1}(U))\]
    since \(f\) is continous, then \(\pi^{-1}(\bar{f}^{-1}(U))\) is open in \(X\), by the definition of quotient topology, \(\bar{f}^{-1}(U)\) is open in \(X/\sim_f\), so \(\bar{f}\) is continous.
\end{proof}

\begin{remark}
    Here we can not get that \(\bar{f}\) is a homeomorphism directly, because the quotient map is not only a continous map, it is strong continous: a map 
    \(f:X \to Y\) is called \textbf{strong continous} if it satisfies
    \[U \in \mathcal{T}_Y  \iff f^{-1}(U) \in \mathcal{T}_X\]
    A example of a continous map but not strong continous is the map \(f: \rr \to \rr, x \mapsto 0\), here we take \(U=[-1,1]\), then \(f^{-1}(U) = \rr\) is open, but \(U\) is not open. 

    So in the statement of UPQ-TOPO, if we add that \(f\) is strong continous (for example, \(f\) is an open map), then \(\bar{f}\) is furthermore a homeomorphism.
\end{remark}

Finally, we study another basic object: group, Let \(G\) be a group and \(H\) be a subgroup of \(G\), then the subgroup can induces an equivalence relation (verify) on \(G\) by
\[a \sim_H b \iff a^{-1}b \in H\]
then the equivalence class can be denoted by left cosets
\[[a] = \{g \in G | a \sim_H g\} = aH\]
and the quotient set(it maybe not a group) is denoted by
\[G/H = \{aH | a \in G\}\]
and the quoitent map is
\[\pi: G \to G/H, \quad g \mapsto gH\]
if the quotient map furthermore preserves the group structure, i.e. it is a group homomorphism, then we expect for any \(g,h \in G\), \(\pi(gh) = \pi(g)\pi(h)\), i.e.
\[ghH = gHhH\]
a sufficent condition here is that \(hH = Hh\) for any \(h \in G\), that means \(H\) is a \textbf{normal subgroup}. Hence we can define the quotient group as follwoing:
\begin{definition}
    Let \(G\) be a group and \(H\) be a normal subgroup of \(G\), the \textbf{quotient group} of \(G\) with respect to \(H\) is defined as the set \(G/H\) with the multiplication
    \[(aH)(bH) := (ab)H\]
    for any \(a,b \in G\), and the group morphism \(\pi: G \to G/H, g \mapsto gH\) is called the \textbf{canonical morphism}.
\end{definition}

The group is a symmetric object, and the equivalence relation given by subgroup is a little special, the partition of \(G\) given by \(H\) is uniform:\\
We notice that the translation \(L_g: G \to G, x \mapsto gx\) is a bijection (not a group morphism unless \(g = e\)), so the restriction of \(L_g\) on any subgroup implies \(gH = L_g(H)\), that means any two left cosets(equivalence class) have the same \textbf{cardinality} as \(H\), in particular, if \(G\) is a finite group, then \(|H|\) divdes \(|G|\), this is the \textbf{Lagrange's theorem}.

Like what we do in topology and set theory, we can aslo conclude a universal property for group:
\begin{theorem}
    [UPQ-GRP] $ \\$
    Let \(G\) and \(K\) be two groups, \(H\) be a normal subgroup of \(G\), and \(\varphi: G \to K\) be a surjective group morphism, then there is a unique group isomorphism \(\bar{\varphi}: G/H \to K\) such that \(\varphi = \bar{\varphi} \circ \pi\), where \(\pi: G \to G/H\) is the canonical morphism.
\end{theorem}
\begin{proof}
    By UPQ-SET, there is a unique bijection \(\bar{\varphi}\) such that \(\varphi = \bar{\varphi} \circ \pi\), now we will prove that \(\bar{\varphi}\) is a group isomorphism. Take any \(aH,bH \in G/H\), then
    \[\bar{\varphi}((aH)(bH)) = \bar{\varphi}((ab)H) = \varphi(ab) = \varphi(a)\varphi(b) = \bar{\varphi}(aH)\bar{\varphi}(bH)\]
    so \(\bar{\varphi}\) is a group morphism, so we finish the proof.
\end{proof}

\newpage
\section{Topological group}

Group and Topological space is two different objects, group is algebraic structure, topological space is geometric structure, but it is not strange to combine them together.

\begin{definition}
A \textbf{topological group} is a object \((G,\mathcal{T},\cdot)\) such that
\begin{itemize}
    \item \((G,\cdot)\) is a group
    \item \((G,\mathcal{T})\) is a topological space
    \item The group structure is compatible with topological structure, i.e. multiplication 
    \[m: G \times G \to G, \quad (x,y) \mapsto x \cdot y\]
    and inverse \[i: G \to G, \quad x \mapsto x^{-1}\]
    are continuous maps.
\end{itemize} 
\end{definition}

Let us see some examples of topological groups
\begin{example}
    \item (1) \(\rr^n\) with addition and standard topology is a topological group.
    \item (2) \(\sph^1 = \{z \in \cc | |z|=1\}\) with multiplication and subspace topology of \(\cc\) is a topological group. 
    \item (3) The torus \(T\) can be seen as the product of two topological groups \(\sph^1 \times \sph^1\), by the universal property of product topology, \(T\) is also a topological group.
    \item (4) Any discrete group with discrete topology is a topological group.
    \item (5) \(GL(n,\rr)\) with multiplication and subspace topology of \(\rr^{n^2}\) is a topological group.
\end{example}


we first prove some properties of topological group, the results are not diffcult, but it is always useful.

\begin{proposition}
    Let \(G\) be a topological group and \(H\) be a subgroup of \(G\), then\\

    (1-translation) For any \(g \in G\), the left-translation \(L_g: G \to G, x \mapsto g \cdot x\) and right-translation \(R_g: G \to G, x \mapsto x \cdot g\) are homeomorphisms.\\

     (2-open) If \(H\) is open, then \(H\) is closed and \(G/H\) is discrete.\\

    (3-Hausdorff)
    \[
    \begin{aligned}
    G &\text{ is Hausdorff} &&\Longleftrightarrow\ \{e\}\text{ is closed}.\\
    G/H &\text{ is Hausdorff} &&\Longleftrightarrow\ H\text{ is closed in }G.
    \end{aligned}
    \]

    (4-homogeneous) If \(G\) is connect, then any voisinage of \(\{e\}\) can generate the group.\\

    (5-CC) Let \(G_0\) be the connected component of \(G\) containing \(e\), then \(G_0\) is a closed normal subgroup of \(G\), and any connected component of \(G\) is homeomorphic to \(G_0\).

\end{proposition}

\begin{proof}
    
\end{proof}

\begin{remark}
    Translation is very important in topological group, group is a object with symmetry and translation is a way to keep symmetry. For example, let \(x,y\) be two different points in \(G\), then the translation \(L_{yx^{-1}}\) is a homeomorphisms which maps \(x\) to \(y\), therefore each point of \(G\) share the same topological stucture, so the local property is same as golbal poerperty, that means topological group is a \textbf{homogeneous space}.
\end{remark}

the fundamental theorem of group homeomorphisms can be extended to topological group, in the discussion of topological group, we hope the map between two objects can preserve both two structures, that means the map is both a morphism of group and a continous map. 

\begin{example}
    We consider two topological groups: the first is \(\rr\) with addition and standard topology, the second is \(\sph^1\) with multiplication and subspace topology of \(\cc\) (or \(\rr^2\)). We define a map 
    \[
    \varphi: \rr \to \sph^1, \quad x \mapsto e^{2\pi i x}.
    \]
    (1) \(\varphi\) is a surjective group morphism with \(\ker \varphi = \mathbb{Z}\).\\
    (2) By UPQ-GRP, there is a unique group isomorphism \(\bar{\varphi}: \rr/\mathbb{Z} \to \sph^1\) such that \[\rr/\zz \cong \sph^1 \]
    (3) By UPQ-TOPO, \(\bar{\varphi}\) is also a continous bijection since \(\varphi\) is continous.\\
    (4) Notice that \(\sph^1\) is a Hausdorff space, \(\rr/\zz\) is compact (verify!) so \(\bar{\varphi}\) is automatically a homeomorphism.
\end{example}
We define the \textbf{isomorphism} between two topological groups are an application which is both \textbf{a group isomorphism} and \textbf{a homeomorphism}, the above examples shows that \(\rr/\zz\) and \(\sph^1\) are isomorphic as topological groups, with the similar techniques we can prove that \(SO(2)\) is also isomorphic to \(\sph^1\) as a topological group. We can generalized the result to be a so-called universal properties:
\begin{theorem}
    [UPQ-TGRP] $ \\$
    Let \(G\) and \(K\) be two topological groups, and \(\varphi: G \to K\) be a topological group morphism (i.e. continuous morphism of group), then there is a unique continous morphism of groups \(\bar{\varphi}: G/H \to K\) such that the digaram commutes
    % https://q.uiver.app/#q=WzAsMyxbMCwwLCJHIl0sWzIsMCwiSyJdLFswLDIsIkcvXFxrZXIgXFx2YXJwaGkiXSxbMCwyLCJcXHBpIiwyLHsic3R5bGUiOnsiaGVhZCI6eyJuYW1lIjoiZXBpIn19fV0sWzAsMSwiXFx2YXJwaGkiXSxbMiwxLCJcXGV4aXN0ISBcXGJhcntcXHZhcnBoaX0iLDIseyJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XV0=
\[\begin{tikzcd}
    G && K \\
    \\
    {G/\ker \varphi}
    \arrow["\varphi", from=1-1, to=1-3]
    \arrow["\pi"', two heads, from=1-1, to=3-1]
    \arrow["{\exists! \bar{\varphi}}"', dashed, from=3-1, to=1-3]
\end{tikzcd}\]
furthermore, if  the following conditions hold:\\
(1) \(\varphi\) is surjective,\\
(2) \(K\) is Hausdorff,\\
(3) \(G/\ker \varphi\) is compact,\\
then \(\bar{\varphi}\) is an isomorphism of topological groups.
\end{theorem}

\newpage
\section{Dual space and category}

In this section, we will the structure of dual in the view of category, and then discuss some properties of dual space.

\begin{definition}
    Let \(V\) be a vector space over a field \(K\). The \textbf{dual space} of \(V\), denoted \(V^*\), is the set of all linear functionals from \(V\) to \(K\):
    \[
    V^* = \mathcal{L}(V, K) = \{ f: V \to K \mid f \text{ is linear} \}.
    \]
\end{definition}

\begin{proposition} \label{dualvectorspace}
    The dual space \(V^*\) is a vector space over \(K\) with the following operations:
    \begin{itemize}
        \item (Addition) If \(f, g \in V^*\), then \((f + g)(v) = f(v) + g(v)\) for all \(v \in V\).
        \item (Scalar multiplication) If \(f \in V^*\) and \(\alpha \in K\), then \((\alpha f)(v) = \alpha f(v)\) for all \(v \in V\).
    \end{itemize}
\end{proposition}

    The dual space \(V^*\) captures the notion of linear functionals on \(V\) and provides a way to study the properties of \(V\) through its dual. Another important concept related to dual space is the dual map induced by a linear map

\begin{proposition} \label{dualmap}
    Let \(T: V \to W\) be a linear map between vector spaces \(V\) and \(W\). The \textbf{dual map} \(T^*: W^* \to V^*\) is defined by
    \[
    T^*(g) = g \circ T
    \]
    for all \(g \in W^*\), it is a linear map induced by \(T\).\\
    Furthermore, \(T^*\) satisfies the following properties:
    \begin{itemize}
        \item (Preservation of identity) for any identity linear map \(I:V^* \to V^*\), \(I^*\) is the identity linear map on \(V^*\).
        \item (Preservation of composition) for any linear maps \(T: V \to W\) and \(S: W \to U\), we have \((S \circ T)^* = T^* \circ S^*\).
    \end{itemize}
\end{proposition}


    \begin{proof}
        To show that \(T^*\) is linear, we need to verify that it preserves addition and scalar multiplication. Let \(g_1, g_2 \in W^*\) and \(\alpha \in K\). Then, for any \(v \in V\):
        \[
        T^*(g_1 + g_2)(v) = (g_1 + g_2)(T(v)) = g_1(T(v)) + g_2(T(v)) = T^*(g_1)(v) + T^*(g_2)(v).
        \]
        Thus, \(T^*(g_1 + g_2) = T^*(g_1) + T^*(g_2)\).

        Next, for scalar multiplication:
        \[
        T^*(\alpha g)(v) = (\alpha g)(T(v)) = \alpha g(T(v)) = \alpha T^*(g)(v).
        \]
        Therefore, \(T^*(\alpha g) = \alpha T^*(g)\).

        Since \(T^*\) preserves both addition and scalar multiplication, it is a linear map.
        Now, we verify the preservation of identity. Let \(I: V \to V\) be the identity map. For any \(g \in V^*\) and \(v \in V\):
        \[I^*(g)(v) = g(I(v)) = g(v).\]
        Thus, \(I^*(g) = g\), which shows that \(I^*\) is the identity map on \(V^*\).

        Finally, we verify the preservation of composition. Let \(T: V \to W\) and \(S: W \to U\) be linear maps. For any \(h \in U^*\) 
        \[
        (S \circ T)^*(h) = h\circ(S \circ T)   = (h \circ S)\circ T = T^*(S^*(h))=(T^* \circ S^*)(h).
        \]
    \end{proof}

After knowing the basic definition of dual space and dual map, we can conclude like following:
\begin{itemize}
    \item We try to see dual as some function, which maps a vector space to the dual space (by proposition \ref{dualvectorspace}), so we naturally define \(\mathbf{Vect}_K\) to be the set of all vector spaces over field \(K\), then dual can be seen as a function in it
    \[(-)^*:\mathbf{Vect}_K \to \mathbf{Vect}_K, \quad V \mapsto V^*\]
    that means dual can be seen \textbf{as a function between classes} (In the set theory, the set of sets is called classes).

    \item Furthermore, dual is not only a function between classes, each linear map \(T: V \to W\) induces a dual map \(T^*: W^* \to V^*\) (by proposition \ref{dualmap}), so we can get annother information about dual: it can be seen as \textbf{a function between sets of morphisms} (in the vector spaces, a morphism is a linear map, which preserves the vector space structure), hence we can define dual as following:
    \[( - )^* : \mathcal{L}(V,W) \to \mathcal{L}(W^*, V^*), \quad T \mapsto T^*\]
\end{itemize}

That is two level of dual, and we can draw a picture like following:
% https://q.uiver.app/#q=WzAsNCxbMCwwLCJWIl0sWzIsMCwiVyJdLFswLDIsIlZeKiJdLFsyLDIsIldeKiJdLFswLDIsIigtKV4qIiwxLHsic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn19fV0sWzAsMSwiVCJdLFsxLDMsIigtKV4qIiwxLHsic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn19fV0sWzMsMiwiVF4qIl0sWzUsNywiKC0pXioiLDEseyJzaG9ydGVuIjp7InNvdXJjZSI6MjAsInRhcmdldCI6MjB9LCJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XV0=
\[\begin{tikzcd}
	V && W \\
	\\
	{V^*} && {W^*}
    \arrow[""{name=0, anchor=center, inner sep=0}, "T", from=1-1, to=1-3]
    \arrow["{(-)^*}"{description}, dashed, from=1-1, to=3-1]
    \arrow["{(-)^*}"{description}, dashed, from=1-3, to=3-3]
    \arrow[""{name=1, anchor=center, inner sep=0}, "{T^*}", from=3-3, to=3-1]
    \arrow["{(-)^*}"{description}, Rightarrow, dashed, from=0, to=1]
\end{tikzcd}\]
We should pay attention to the level of dual, the first level is the function between classes, the second level is the function between sets of morphisms, we have the first level, and then we can get the second level by naturally definition, that is why category is a powerful tool! In set theory, we only have elements in a set, and then we use functions to connect two sets, but now we hope to construct a class contatining sets, and then use a function to connect two classes, but that is not ennough, we also need to connect a morphism of two sets in a class to another morphism of two sets in another class, that is the second level of function.


\begin{definition}[Category]
A category $\mathcal{C}$ consists of the following data:
\begin{itemize}
  \item a unique class of \textbf{objects}(sets or any other mathematical objects)
        \[
        \Ob(\mathcal{C});
        \]
  \item for every pair of objects $A, B \in \Ob(\mathcal{C})$, a set of morphisms
        \[
        \Hom_{\mathcal{C}}(A,B);
        \]
  \item for every triple of objects $A, B, C \in \Ob(\mathcal{C})$, a function called \textbf{composition}
        \[
        \circ : \Hom_{\mathcal{C}}(B,C) \times \Hom_{\mathcal{C}}(A,B)
        \longrightarrow \Hom_{\mathcal{C}}(A,C),
        \quad (g,f) \mapsto g \circ f;
        \]
  \item for each object $A \in \Ob(\mathcal{C})$, there exists an \textbf{identity morphism}
        \[
        \mathrm{id}_A \in \Hom_{\mathcal{C}}(A,A).
        \]
\end{itemize}
These data satisfy the following axioms:

  \item \textbf{Associativity:}
        for all \(f\in \Hom_{\mathcal{C}}(A,B)\), \(g\in \Hom_{\mathcal{C}}(B,C)\), and \(h\in \Hom_{\mathcal{C}}(C,D)\):
        \[
        h \circ (g \circ f) = (h \circ g) \circ f.
        \]
  \item \textbf{Identity:}
        for all \(f\in \Hom_{\mathcal{C}}(A,B)\),
        \[
        f \circ \mathrm{id}_A = f = \mathrm{id}_B \circ f.
        \]

\end{definition}

\begin{remark}
    we often write the following to simplify the notation:
    \[A \in \mathcal{C} \iff A \in \Ob(\mathcal{C})\]
    and
    \[f:A \to B \iff f \in \Hom_{\mathcal{C}}(A,B)\]
    In set theory, we often see element as a point, similarly, in category theory, we often see object as a point, and morphism as an arrow between two points, so the category can be draw as a graph like following:
    % https://q.uiver.app/#q=WzAsNCxbMCwwLCJBIl0sWzAsMiwiQyJdLFszLDIsIkQiXSxbMiwwLCJCIl0sWzAsMCwiMV9BIl0sWzEsMSwiMV9DIiwyLHsicmFkaXVzIjotM31dLFsyLDIsIjFfRCIsMix7InJhZGl1cyI6LTN9XSxbMywzLCIxX0IiXSxbMCwzLCJmIiwxXSxbMywxLCJnIiwxXSxbMCwxLCJnXFxjaXJjIGYiLDFdXQ==
\[\begin{tikzcd}
	A && B \\
	\\
	C &&& D
	\arrow["{1_A}", from=1-1, to=1-1, loop, in=55, out=125, distance=10mm]
	\arrow["f"{description}, from=1-1, to=1-3]
	\arrow["{g\circ f}"{description}, from=1-1, to=3-1]
	\arrow["{1_B}", from=1-3, to=1-3, loop, in=55, out=125, distance=10mm]
	\arrow["g"{description}, from=1-3, to=3-1]
	\arrow["{1_C}"', from=3-1, to=3-1, loop, in=305, out=235, distance=10mm]
	\arrow["{1_D}"', from=3-4, to=3-4, loop, in=305, out=235, distance=10mm]
\end{tikzcd}\]
In the category we defined above, we only have four objects so by definition we at least have four identity morphisms (arrows start and end at the same point); and we only define two morphisms between different objects, i.e. \(f:A \to B\) and \(g:B\to C\), by composition we can get another morphism \(g \circ f: A \to C\), so actually we have six morphism in this category.
\end{remark}

Category is a strong concept to generalized the objects in mathematics.
\begin{example}
    \item (1) The category of sets: \[
\mathbf{Set} \;\Big|\;
\begin{array}{l}
  \text{object: all sets} \\
  \text{morphisms: functions between sets}
\end{array}
\]
Here a famous paradox in set theory is \textbf{Russell's paradox}, that shows that there does not exists a set containing all sets, otherwise a contradiction will arise according to the axiom of set theory. To avoid the paradox, we use classes instead of sets to define category, but that is not enough, because sometimes we hope to talk about the category of all categories, so a strong axiom called \textbf{Grothendieck universes} is needed here.

(2) The caetgory of groups:
\[
\mathbf{Grp} \;\Big|\;
\begin{array}{l}
  \text{object: all groups} \\
  \text{morphisms: group homomorphisms}
\end{array}
\]
(3) The category of topological spaces:
\[\mathbf{Top} \;\Big|\;
\begin{array}{l}
  \text{object: all topological spaces} \\
  \text{morphisms: continuous maps}
\end{array}
\]
(4) The category of vector spaces over a field \(K\):
\[
\mathbf{Vect}_K \;\Big|\;
\begin{array}{l}
  \text{object: all vector spaces over } K \\
  \text{morphisms: linear maps}
\end{array}
\]
\end{example}

In category, we usually ignore the elements of an object, and only care about the morphisms between two objects, so we will care about whether the morphism is injective, surjective or bijective. However, in the traditional definition of functions, the statment will depend on the elements of the set, so a lemma will be need here to generalized the definition of injection and so on in category.
\begin{lemma}
    Let \(f:A \to B\) be a function between two sets, then\\

    (1) \(f\) is injective if and only if for any set \(X\) and any two functions \(g_1,g_2: X \to A\), the left-cancellation holds: \[f \circ g_1 = f \circ g_2 \Rightarrow g_1 = g_2\] 

    (2) \(f\) is surjective if and only if for any set \(X\) and any two functions \(h_1,h_2: B \to X\), the right-cancellation holds:
    \[ h_1 \circ f = h_2 \circ f \Rightarrow h_1 = h_2\]
\end{lemma}

That will be very useful in the proof referring to universal properties. Another special morphism in a category is isomorphism, the definition is naturally same in group, vector space and so on.
\begin{definition}
    Let \(\mathcal{C}\) be a category and \(A,B \in \Ob(\mathcal{C})\), a morphism \(f:A \to B\) is called an \textbf{isomorphism} if there exists a morphism \(g:B \to A\) such that
    \[g \circ f = \mathrm{id}_A, \quad f \circ g = \mathrm{id}_B\]
    In this case, we say that \(A\) and \(B\) are isomorphic, denoted by \(A \cong B\).
\end{definition}

Now with the basic knowledge of category, we can study the functor, the "function" between two categories, as like what we talked just now, dual can be seen as a functor between two categories.
\begin{definition}
    Let \(\mathcal{C}\) and \(\mathcal{D}\) be two categories, a functor \(F: \mathcal{C} \to \mathcal{D}\) is a map in two levels:
    \begin{itemize}
        \item a function \[F: \Ob(\mathcal{C}) \to \Ob(\mathcal{D}), \quad A \to F(A)\]
        \item For each \(A,B\), a function \[F: \Hom_{\mathcal{C}}(A,B) \to \Hom_{\mathcal{D}}(F(A),F(B)), \quad f \to F(f)\]
        the map should satisfy the following axioms:
        \begin{itemize}
            \item \(F(\mathrm{id}_A) = \mathrm{id}_{F(A)}\) for all \(A \in \Ob(\mathcal{C})\).
            \item \(F(g \circ f) = F(g) \circ F(f)\) for all \(f: A \to B\) and \(g: B \to C\) in \(\mathcal{C}\).
        \end{itemize}
    \end{itemize}
\end{definition}
The reason of axioms is similar to linear map or group homomorphism: To preserve the structure! In another view, without the axioms, the image of functor may not be a category. (Taking mind that a map non-trivially preserving structure will reflect the relation between two objects, that appears everywhere in mathematics).

Reback to dual space, by the discussion above, we want to conclude that dual is a functor, so we naturally take a category \(\mathbf{Vect}_K\) containing all vector spaces over field \(K\), and proposition \ref{dualvectorspace} shows that dual can be seen as a function between objects of \(\mathbf{Vect}_K\), so 
\((-)^*\) defines a functor from \(\mathbf{Vect}_K\) to \(\mathbf{Vect}_K\) at the first level? Unluckly, that is not true, by proposition \ref{dualmap}, we find that dual maps a linear map \(T: V \to W\) to a linear map \(T^*: W^* \to V^*\) instead of \(T^*: V^* \to W^*\), but that is not a big problem, we are now close to the natural of dual. that means reversing anything, even the category!

\begin{definition}
    For any category \(\mathcal{C}\), the \textbf{opposite category} \(\mathcal{C}^{op}\) is defined as following:
    \[
\mathcal{C}^{op} \;\Big|\;
\begin{array}{l}
  \text{object: } \Ob(\mathcal{C}^{op}) = \Ob(\mathcal{C}) \\
  \text{morphisms: } \Hom_{\mathcal{C}^{op}}(A,B) = \Hom_{\mathcal{C}}(B,A)
\end{array}
\]

\end{definition}
The definition needs some explanation, in the level of morphisms, we see a morphism \(f:A \to B\) as a morphism \(f^{op}:B \to A\) by reversing the direction as followinng:
% https://q.uiver.app/#q=WzAsMixbMCwwLCJBIl0sWzIsMCwiQiJdLFswLDEsImYiXSxbMSwwLCJmXntvcH0iLDAseyJvZmZzZXQiOi0zLCJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XV0=
\[\begin{tikzcd}
	A && B
	\arrow["f", from=1-1, to=1-3]
	\arrow["{f^{op}}", shift left=3, dashed, from=1-3, to=1-1]
\end{tikzcd}\]
so the example we gave after the definition of category can be draw as following:
% https://q.uiver.app/#q=WzAsNCxbMCwwLCJBIl0sWzAsMiwiQyJdLFszLDIsIkQiXSxbMiwwLCJCIl0sWzAsMCwiMV9BXntvcH0iLDIseyJyYWRpdXMiOi0zLCJhbmdsZSI6LTE4MCwic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn19fV0sWzEsMSwiMV9DXntvcH0iLDAseyJhbmdsZSI6LTE4MCwic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn19fV0sWzIsMiwiMV9EXntvcH0iLDAseyJhbmdsZSI6LTE4MCwic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn19fV0sWzMsMywiMV9CXntvcH0iLDIseyJyYWRpdXMiOi0zLCJhbmdsZSI6LTE4MCwic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn19fV0sWzMsMCwiZl57b3B9IiwxLHsic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn19fV0sWzEsMywiZ157b3B9IiwxLHsic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn19fV0sWzEsMCwiKGdcXGNpcmMgZilee29wfSIsMSx7InN0eWxlIjp7ImJvZHkiOnsibmFtZSI6ImRhc2hlZCJ9fX1dXQ==
\[\begin{tikzcd}
	A && B \\
	\\
	C &&& D
	\arrow["{1_A^{op}}"', dashed, from=1-1, to=1-1, loop, in=125, out=55, distance=10mm]
	\arrow["{f^{op}}"{description}, dashed, from=1-3, to=1-1]
	\arrow["{1_B^{op}}"', dashed, from=1-3, to=1-3, loop, in=125, out=55, distance=10mm]
	\arrow["{(g\circ f)^{op}}"{description}, dashed, from=3-1, to=1-1]
	\arrow["{g^{op}}"{description}, dashed, from=3-1, to=1-3]
	\arrow["{1_C^{op}}", dashed, from=3-1, to=3-1, loop, in=235, out=305, distance=10mm]
	\arrow["{1_D^{op}}", dashed, from=3-4, to=3-4, loop, in=235, out=305, distance=10mm]
\end{tikzcd}\]
What we do is just to reversing the direction of arrows! Hence finally we can conclude that dual is a \textbf{functor} from \(\mathbf{Vect}_K\) to \(\mathbf{Vect}_K^{op}\):
 \[
(-)^* \;\Big|\;
\begin{array}{l}
  \text{object: } V \in \Ob(\mathbf{Vect}_K) \mapsto V^* \in \Ob(\mathbf{Vect}_K^{op}) = \Ob(\mathbf{Vect}_K) \\
   \\
  \text{morphisms: } T \in \Hom_{\mathbf{Vect}_K}(V,W) \mapsto T^* \in \Hom_{\mathbf{Vect}_K^{op}}(V^*,W^*) = \Hom_{\mathbf{Vect}_K}(W^*,V^*)
\end{array}
\]

\end{document}

